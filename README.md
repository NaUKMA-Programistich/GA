## Потрібно реалізувати генетичний алгоритми для пошуку максимуму функції з використанням фреймворку DEAP (Distributed Evolutionary Algorithms in Python) на Python

* Потрібно писати тести на кожний етап реалізації
* Константи записати треба в окремому файлі constants.py
* Алгоритм записати в окремий файл algorithms.py
* Основні функції записати в окремий файл functions.py
* У файлі manual.py та auto.py реалізувати запуск алгоритму
* У файлі automatic_testing.py реалізувати автоматичне тестування алгоритму
* Зберігати статистику в окремих файлах з відповідними назвами

## Функція
(x₁, ..., xₙ) = n * |10 * cos(2π * a) - a²| + Σ(10 * cos(2π * xᵢ) - xᵢ²)
- a = 7
- -5.12 ≤ xᵢ < 5.12
- i = 1, ..., n

## Схеми алгоритму:
Генераційний тип репродукції:
1. Кодування розв'язків
2. Ініціалізація: генерація початкової популяції з N особин
3. Процес еволюції (репродукція)
   3.1. Оцінювання. Якщо умова зупинки виконується, перехід до кроку 4
   3.2. Відбір N особин до батьківського пулу
   3.3. Застосування генетичних операторів
   3.4. Нове покоління = покоління нащадків. Перехід до кроку 3.1
4. Завершення

Стійкий тип репродукції:
1. Кодування розв'язків
2. Ініціалізація: генерація початкової популяції з N особин
3. Оцінювання
4. Процес еволюції (репродукція)
   4.1. Відбір GG*N особин до батьківського пулу
   4.2. Застосування генетичних операторів
   4.3. Оцінювання нащадків
   4.4. Відбір N особин в нове покоління
   4.5. Перехід до кроку 4.1 або кроку 5
5. Завершення

## Кодування:
Використовуємо вузлів дискретизації, 2 знаки після коми (що приводить до ланцюжків довжини l=10 для n=1). 
Розглядаємо два варіанти:
- Стандартний двійковий код
- Двійковий код Грея

### Ініціалізація:
Стандартний нормальний розподіл (реалізований як біноміальний з параметром p=0.5, де всі гени генеруються випадково, 0 або 1 з імовірністю 0.5).
Важливо i-ий прогін кожного набору параметрів має одну стартову точку (тобто початкові популяції кожного i-ого прогону є спільними для всіх ГА, в той час як початкові популяції i-го та j-го прогонів відрізняються).
На всі види параметрів, початкова популяція повинна бути однакова для кожного запуску (для першого запуску одна, для другого запуску інша і так далі).
Беремо один набір параметрів і запускаємо його NR разів (і на кожному запуску у тебе свій сід на рандом, тобто NR сідів).
Потім на другому наборі парамтерів робимо те саме, але сіди береш тіж самі, шо і на першому запуску

### Генетичні оператори:
- Кросинговер: одноточковий та стандартний однорідний
- Мутація: щільнісна

### Умова зупинки:
Алгоритм зупиняється, коли виконується одна з умов:
- або Досягнуто збіжність популяції
- або Досягнуто максимальну кількість ітерацій (1 000 000 для генераційного типу репродукції; GG * 1 000 000 для стійкого типу репродукції, де GG – розрив покоління)

### Збіжність
- 99% гомогенність популяції по кожному гену, АБО Середнє здоров'я популяції не змінюється більше ніж на 0.0001 за останні 10 поколінь (за останні 10*N/GG поколінь для алгоритмів зі стійким типом репродукції)

## Налаштування параметрів
- Ручне налаштування, де ми перебираємо всі можливі комбінації параметрів
- Автоматичне налаштування, де ми використовуємо SMBO

### Розмір популяції
100, 200, 300, 400

### Процес аналізу алгоритму
1. N=100, n=1 - виконання всіх прогонів, виділення найкращого набору параметрів алгоритму
2. N=100, n=2 - виконання всіх прогонів, виділення найкращого набору параметрів алгоритму, порівняння з набором, знайденим для n=1
3. N=100, n=3 - виконання всіх прогонів, виділення найкращого набору параметрів алгоритму, порівняння з набором, знайденим для n=1, n=2
4. N=100, n=5 - виконання всіх прогонів, виділення найкращого набору параметрів алгоритму, порівняння з набором, знайденим для n=1, n=2, n=3
5. Повторення для більших розмірів популяції (N=200, N=300, N=400)
6. Порівняння наборів параметрів, знайдених для різних розмірів популяції

### Параметри для перебору
1) Спосіб кодування
2) Типи кросинговеру
3) ймовірності кросинговеру Pc та мутації Pm далі у таблиці
5) Методи відбору (генераційний тип репродукції або стійкий тип репродукції) далі у таблиці

## Таблиця для перебору
- Перебір мутаційних ймовірностей Pm та ймовірностей кросинговеру Pc
  | Розмір популяції N | 100 | 200 | 300 | 400 |
  |---|-----|-----|-----|-----|
  | Ймовірності кросинговеру Pc | 0; 0.6; 0.8; 1 | 0; 0.6; 0.8; 1 | 0; 0.6; 0.8; 1 | 0; 0.6; 0.8; 1 |
  | Ймовірності мутації (Pm) | 0; 0.001; 0.01; ?; 0.1 | 0; 0.0005; 0.005; ? 0.01; 0.1 | 0; 0.0003; 0.003; ? 0.01; 0.1 | 0; 0.0002; 0.0005; ? 0.002; 0.01; 0.1 |

Знак ? означає, що за відсутності збіжності на ВСІХ прогонах із заданим набором параметрів для вказаного значення Pm, на більших значеннях Pm з цим набором параметрів можна прогони не робити

- Методи відбору для генераційного тип репродукції:
  | N | Методи відбору |
  |---|----------------|
  | 100 | SUS, RWS, TournWITH_t=2, TournWITHOUT_t=2, TournWITHPART_t=2, ExpRankRWS_c=0.9801, ExpRankSUS_c=0.9801, LinRankRWS_beta=2, LinRankSUS_beta=2, TournWITH_t=4, TournWITHOUT_t=4, ExpRankRWS_c=0.9606, ExpRankSUS_c=0.9606, LinRankRWS_beta=1.6, LinRankSUS_beta=1.6 |
  | 200 | SUS, RWS, TournWITH_t=2, TournWITHOUT_t=2, TournWITHPART_t=2, ExpRankRWS_c=0.99003, ExpRankSUS_c=0.99003, LinRankRWS_beta=2, LinRankSUS_beta=2, TournWITH_t=4, TournWITHOUT_t=4, ExpRankRWS_c=0.98015, ExpRankSUS_c=0.98015, LinRankRWS_beta=1.6, LinRankSUS_beta=1.6 |
  | 300 | SUS, RWS, TournWITH_t=2, TournWITHOUT_t=2, TournWITHPART_t=2, ExpRankRWS_c=0.99334, ExpRankSUS_c=0.99334, LinRankRWS_beta=2, LinRankSUS_beta=2, TournWITH_t=4, TournWITHOUT_t=4, ExpRankRWS_c=0.98673, ExpRankSUS_c=0.98673, LinRankRWS_beta=1.6, LinRankSUS_beta=1.6 |
  | 400 | SUS, RWS, TournWITH_t=2, TournWITHOUT_t=2, TournWITHPART_t=2, ExpRankRWS_c=0.99503, ExpRankSUS_c=0.99503, LinRankRWS_beta=2, LinRankSUS_beta=2, TournWITH_t=4, TournWITHOUT_t=4, ExpRankRWS_c=0.99004, ExpRankSUS_c=0.99004, LinRankRWS_beta=1.6, LinRankSUS_beta=1.6 |

  Важливо розділити для статистики у файлі, що TournWITHOUT_t=4 це sceme + sampling + param, тобто TournWITHOUT_t=4 це tourn + without + 4

- Методи відбору (стійкий тип репродукції):
  | Параметр | Опції |
  |----------|-------|
  | N | 100; 200; 300; 400 |
  | GG (Розрив покоління) | 0.05; 0.1; 0.2; 0.5 |
  | Відбір до батьківського пулу | Elite: Детермінований відбір найкращих GG*N особин (всі особини в батьківському пулі є унікальними); <br><br> RWS: Стохастичний відбір найкращих методом RWS (особина може мати кілька копій в батьківському пулі) |
  | Відбір у наступне покоління | WorstComma: БЕЗ найгірших - детерміноване видалення найгірших особин з популяції батьків; <br><br> RandComma: БЕЗ випадково обраних - видалення випадково (рівномірний розподіл) обраних особин з популяції батьків;<br><br>WorstPlus: БЕЗ найгірших - детерміноване видалення найгірших особин зі спільної популяції батьків та дітей;<br><br>RandPlus: БЕЗ випадково обраних - видалення випадково (рівномірний розподіл) обраних особин зі спільної популяції батьків та дітей |

## Приклади для розуміння - можна використати для тестування
Приклад 1:
N=5, GG=0.4
Відбір в БП - Elite
Відбір в Наступне Покоління - WorstComma
Популяція X1, X2, X3, X4, X5; f(X1)>f(X2)>f(X3)>f(X4)>f(X5)
БП: X1, X2 – позначимо нащадків X1', X2'
Наступне Покоління: видаляємо найгірших з X1, X2, X3, X4, X5 – т.я. цеX4, X5, то наступне покоління складається з X1', X2', X1, X2, X3

Приклад 2:
N=5, GG=0.4
Відбір в БП - Elite
Відбір в Наступне Покоління - WorstPlus
Популяція X1, X2, X3, X4, X5; f(X1)>f(X2)>f(X3)>f(X4)>f(X5)
БП: X1, X2 – позначимо нащадків X1', X2';
нехай f(X1)> f(X2)>f(X3)>f(X1')>f(X4)>f(X2')>f(X5)
Наступне Покоління: видаляємо найгіршихз X1, X2, X3, X4, X5, X1', X2' – в прикладі це дві особини X5, X2'; отже, нове покоління: X1, X2, X3, X4, X1'

## Збір статистичних даних
Кожен набір параметрів слід запустити NR=100(зробити параметром) разів
Прогін вважається успішним, якщо ідентифіковано збіжність алгоритму, та хоча б одна (найкраща) особина фінальної популяції має коефіцієнт пристосованості, який не менший за δ=0.01 від його реального значення, та розташовується на відстані не більше ніж σ=0.01 від реального екстремуму.

### Критерії оцінювання
Для кожного прогону:
- IsSuc - мітка успішності прогону (1/0)
- NI - кількість ітерацій
- NFE (number of fitness function evaluations) - кількість обчислень функції пристосованості
- F_max - коефіцієнт пристосованості найкращого ланцюжка в фінальній популяції
- x_max - фенотип найкращого ланцюжка в фінальній популяції
- F_avg - середній коефіцієнт пристосованості в фінальній популяції
- FC - оцінка збіжності
- PA (peak accuracy) - точність піку
- DA (distance accuracy) - точність відстані (евклідова відстань)
- Suc - відсоток успішних прогонів

Для успішних прогонів:
- Min_NI, Max_NI, Avg_NI - мінімальна, максимальна та середня кількість ітерацій до збіжності
- Sigma_NI - стандартне відхилення для NI
- Аналогічну статистику для NFE, Fmax, Favg, FC, PA, DA

Для неуспішних прогонів:
- Min_NI_f, Max_NI_f, Avg_NI_f - мінімальна, максимальна та середня кількість ітерацій до збіжності
- Sigma_NI_f - стандартне відхилення для NI
- Аналогічна статистика для NFE_f, Fmax_f, Favg_f, FC_f, PA_f, DA_f

Файл всіх запусків NR має такий заголовок:
Function	Dimension	Population	(Selection/Reproduction scheme) (Sampling/Deletion scheme)	(Selectipn param/GG)	Crossover	Pc	Mutation	Pm	Encoding	Run 1_IsSuc	Run 1_NI	Run 1_NFE	Run 1_F_max	Run 1_x_max	Run 1_F_avg	Run 1_FC	Run 1_PA	Run 1_DA	Run 1_Time	Run 2_IsSuc	Run 2_NI	Run 2_NFE	Run 2_F_max	Run 2_x_max	Run 2_F_avg	Run 2_FC	Run 2_PA	Run 2_DA	... STAT	Suc	N_Suc	Min_NI	Max_NI	Avg_NI	Sigma_NI	Min_NFE	Max_NFE	Avg_NFE	Sigma_NFE	Min_F_max	Max_F_max	Avg_F_max	Sigma_F_max	Min_F_avg	Max_F_avg	Avg_F_avg	Sigma_F_avg	Min_FC	Max_FC	Avg_FC	Sigma_FC	Min_PA	Max_PA	Avg_PA	Sigma_PA	Min_DA	Max_DA	Avg_DA	Sigma_DA	Min_run_time	Max_run_time	Avg_run_time	Sigma_run_time	Min_NI_f	Max_NI_f	Avg_NI_f	Sigma_NI_f	Min_NFE_f	Max_NFE_f	Avg_NFE_f	Sigma_NFE_f	Min_F_max_f	Max_F_max_f	Avg_F_max_f	Sigma_F_max_f	Min_F_avg_f	Max_F_avg_f	Avg_F_avg_f	Sigma_F_avg_f	Min_FC_f	Max_FC_f	Avg_FC_f	Sigma_FC_f	Min_PA_f	Max_PA_f	Avg_PA_f	Sigma_PA_f	Min_DA_f	Max_DA_f	Avg_DA_f	Sigma_DA_f	Min_run_time_f	Max_run_time_f	Avg_run_time_f	Sigma_run_time_f

Файл зведених результатів запусків NR має такий заголовок, де потрібно вказати лише усереднені значення:
Function	Dimension	Population	(Selection/Reproduction scheme) (Sampling/Deletion scheme)	(Selectipn param/GG)	Crossover	Pc	Mutation	Pm	Encoding	Success rate	Min_NI	Max_NI	Avg_NI	Sigma_NI	Min_NFE	Max_NFE	Avg_NFE	Sigma_NFE	Min_F_max	Max_F_max	Avg_F_max	Sigma_F_max	Min_F_avg	Max_F_avg	Avg_F_avg	Sigma_F_avg	Min_FC	Max_FC	Avg_FC	Sigma_FC	Min_PA	Max_PA	Avg_PA	Sigma_PA	Min_DA	Max_DA	Avg_DA	Sigma_DA	Min_run_time	Max_run_time	Avg_run_time
